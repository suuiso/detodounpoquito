<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="theme-color" content="#ec4899">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="description" content="Colecci√≥n Primavera/Verano 2025 - Moda urbana femenina en Santiago">
    <title>De Todo Un Poquito 17 - Colecci√≥n Primavera/Verano</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Montserrat & Lato -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Montserrat:wght@600;700&display=swap" rel="stylesheet">
    
    <script>
        // Configuraci√≥n para a√±adir las nuevas fuentes y animaciones a Tailwind
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'heading': ['Montserrat', 'sans-serif'],
                        'body': ['Lato', 'sans-serif'],
                    },
                    keyframes: {
                        'skeleton-loading': {
                            '0%': { 'background-color': 'hsl(200, 20%, 80%)' },
                            '100%': { 'background-color': 'hsl(200, 20%, 95%)' },
                        },
                        'fade-in-up': {
                            '0%': {
                                opacity: '0',
                                transform: 'translateY(20px)'
                            },
                            '100%': {
                                opacity: '1',
                                transform: 'translateY(0)'
                            },
                        },
                        'bounce-in': {
                            '0%, 100%': { transform: 'scale(1)' },
                            '50%': { transform: 'scale(1.5)' }
                        },
                        'heart-beat': {
                            '0%': { transform: 'scale(1)' },
                            '15%': { transform: 'scale(1.3)' },
                            '30%': { transform: 'scale(1)' },
                            '45%': { transform: 'scale(1.2)' },
                            '100%': { transform: 'scale(1)' }
                        }
                    },
                    animation: {
                        'skeleton': 'skeleton-loading 1s linear infinite alternate',
                        'fade-in-up': 'fade-in-up 0.5s ease-out forwards',
                        'bounce-in': 'bounce-in 0.4s ease-out',
                        'heart-beat': 'heart-beat 0.6s ease-out'
                    }
                }
            }
        }
    </script>

    <style>
        /* Estilos personalizados y mejoras visuales */
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'body', sans-serif;
            background-color: #FEFEFE;
            line-height: 1.7; /* Mejora de legibilidad */
        }
        .font-heading {
            font-family: 'heading', sans-serif;
        }
        .banner-bg {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://placehold.co/1920x700/E2A8A9/FFFFFF?text=Colecci√≥n+Urbana') center center/cover;
        }
        .card-shadow {
             box-shadow: 0 4px 12px rgba(0,0,0,0.08); /* Sombra sutil mejorada */
        }
        .nav-link {
            @apply text-gray-700 hover:text-pink-500 transition-colors duration-300 font-semibold tracking-wide text-sm;
        }
        .header-gradient {
            background: linear-gradient(90deg, rgba(255,233,237,0.8) 0%, rgba(240,244,255,0.8) 100%);
        }
        .mobile-nav-link {
             @apply block text-lg text-gray-800 font-semibold py-3 px-6 hover:bg-pink-100 rounded-md transition-colors duration-200;
             -webkit-tap-highlight-color: rgba(236, 72, 153, 0.2);
        }
        header.scrolled {
            padding-top: 0.75rem; /* 12px */
            padding-bottom: 0.75rem; /* 12px */
            background: rgba(255, 249, 252, 0.9);
            box-shadow: 0 6px 24px rgba(60,16,53,0.10), 0 2px 4px rgba(0,0,0,0.04);
        }
        .cta-button {
            @apply w-full bg-pink-500 text-white font-bold py-3 px-5 rounded-full transition-all duration-300 ease-in-out;
            min-height: 44px;
        }
        .cta-button:hover { filter: brightness(0.9); }
        .cta-button:active { transform: scale(0.98); }
        .social-icon:hover {
            transform: scale(1.1);
            color: #ec4899; /* pink-400 */
        }
        .social-icon {
            transition: transform 150ms ease-in-out, color 150ms ease-in-out;
        }

        /* --- ESTILOS PARA LOADING SKELETON --- */
        .skeleton-card {
            @apply bg-white rounded-lg overflow-hidden border border-gray-200;
        }
        .skeleton-card .skeleton-img {
            @apply h-[300px] sm:h-[350px] md:h-[400px] animate-skeleton;
            background-color: hsl(200, 20%, 80%);
        }
        .skeleton-card .skeleton-text {
            @apply h-4 rounded-md animate-skeleton;
            background-color: hsl(200, 20%, 80%);
        }
        
        /* --- ESTILOS PARA ANIMACI√ìN DE ENTRADA --- */
        .animate-on-scroll {
            opacity: 0;
            will-change: transform, opacity; /* Ayuda al navegador a optimizar la animaci√≥n */
        }
        
        /* --- ESTILOS PARA EL BOT√ìN DE WISHLIST --- */
        .wishlist-btn svg {
            transition: color 0.3s ease, fill 0.3s ease;
            stroke-width: 2;
        }
        .wishlist-btn.is-favorite svg {
            color: #ec4899; /* pink-400 */
            fill: #ec4899;
            stroke: #ec4899;
        }

        /* --- TAREA 5: ESTILOS PARA TOAST NOTIFICATIONS (eliminados para aplicar clases directamente) --- */
        /* La funcionalidad ahora se maneja directamente en JavaScript con clases de Tailwind para mayor compatibilidad */

        /* --- INSTRUCCI√ìN 1: MEJORA DE ACCESIBILIDAD VISUAL --- */
        :focus-visible {
          outline: 2px solid #ec4899; /* pink-500 */
          outline-offset: 2px;
          box-shadow: 0 0 0 2px rgba(236,72,153,0.2);
        }

        /* --- INSTRUCCI√ìN 10: AJUSTE DE ANIMACIONES PARA M√ìVILES --- */
        @media (max-width: 767px) {
            .animate-fade-in-up, .animate-heart-beat {
                animation-duration: 0.4s !important;
            }
            .animate-bounce-in {
                animation-duration: 0.3s !important;
            }
            /* Prevenir zoom en inputs en iOS */
            input, select, textarea {
                font-size: 16px !important;
            }
        }
        
        /* --- MEJORAS T√ÅCTILES --- */
        button, a, .wishlist-btn, .add-to-cart-btn {
            -webkit-tap-highlight-color: rgba(236, 72, 153, 0.2);
            touch-action: manipulation;
        }
        
        /* --- MEN√ö M√ìVIL MEJORADO --- */
        #mobile-menu {
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
            opacity: 0;
            visibility: hidden;
        }
        
        #mobile-menu.active {
            opacity: 1;
            visibility: visible;
        }
        
        /* Prevenir scroll cuando el men√∫ est√° abierto */
        body.menu-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
        }
        
        /* --- MODAL MEJORADO PARA M√ìVIL --- */
        #quick-view-modal {
            transition: opacity 0.3s ease-in-out;
        }
        
        @media (max-width: 768px) {
            #quick-view-content {
                max-height: 90vh;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }
        }

    </style>
</head>
<body class="text-gray-800">

    <!-- Header (mantiene colores, tipograf√≠a actualizada) -->
    <header id="main-header" class="py-4 px-6 md:px-12 flex justify-between items-center header-gradient backdrop-blur-md sticky top-0 z-50 shadow-sm transition-all duration-300">
        <a href="#inicio" class="font-heading text-2xl md:text-3xl font-bold text-pink-500">De Todo Un Poquito 17</a>
        <nav id="desktop-nav" class="hidden md:flex items-center space-x-8">
            <a href="#inicio" class="nav-link">‚≠ê INICIO</a>
            <a href="#conjuntos" class="nav-link">üëö CONJUNTOS</a>
            <a href="#tops" class="nav-link">üëï TOPS</a>
            <a href="#shorts" class="nav-link">ü©≥ SHORTS</a>
            <a href="#vestidos" class="nav-link">üëó VESTIDOS</a>
        </nav>
        <div class="flex items-center space-x-4">
            <button class="hidden md:block text-gray-600 hover:text-pink-500 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
            </button>
            <button class="hidden md:block text-gray-600 hover:text-pink-500 transition-colors">
                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
            </button>
            <button class="relative text-gray-600 hover:text-pink-500 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
                <span id="cart-counter" class="absolute -top-2 -right-2 bg-pink-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
            </button>
            <button id="mobile-menu-button" class="md:hidden text-gray-700 z-50">
                <svg id="menu-open-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                <svg id="menu-close-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
        </div>
    </header>

     <!-- Men√∫ M√≥vil -->
    <div id="mobile-menu" class="md:hidden bg-white/95 backdrop-blur-lg fixed top-0 left-0 w-full h-full pt-24" style="z-index: 9999;">
        <nav class="flex flex-col items-center space-y-6">
              <a href="#inicio" class="mobile-nav-link">‚≠ê INICIO</a>
              <a href="#conjuntos" class="mobile-nav-link">üëö CONJUNTOS Y SETS</a>
              <a href="#tops" class="mobile-nav-link">üëï TOPS Y POLERAS</a>
              <a href="#shorts" class="mobile-nav-link">ü©≥ SHORTS Y BIKER</a>
              <a href="#vestidos" class="mobile-nav-link">üëó VESTIDOS Y ENTERITOS</a>
        </nav>
    </div>


    <main id="inicio">
        <!-- Banner Hero Mejorado -->
        <section class="banner-bg h-[70vh] md:h-[80vh] flex items-center justify-center text-center text-white px-4 animate-on-scroll">
            <div class="max-w-3xl bg-black/20 p-8 rounded-lg">
                <h1 class="font-heading text-4xl md:text-6xl lg:text-7xl font-bold tracking-tight">
                    Nueva Colecci√≥n Primavera/Verano
                </h1>
                <p class="mt-4 text-lg md:text-xl max-w-xl mx-auto">Descubre looks frescos y urbanos para destacar en Santiago.</p>
                <a href="#conjuntos" class="mt-8 inline-block bg-pink-500 text-white font-bold py-3 px-8 rounded-full text-lg hover:bg-pink-600 transition-all duration-300 transform hover:scale-105 active:scale-100">
                    Ver Colecci√≥n
                </a>
            </div>
        </section>

        <!-- Product Sections con Espaciado y Contenedor Centrado -->
        <div class="max-w-7xl mx-auto py-20 md:py-28 px-6 md:px-12 space-y-24">

            <!-- Conjuntos y Sets de Moda -->
            <section id="conjuntos" class="animate-on-scroll">
                <div class="text-center mb-12">
                    <h2 class="font-heading text-3xl md:text-4xl font-bold">Conjuntos y Sets de Moda</h2>
                    <p class="mt-3 max-w-2xl mx-auto text-gray-600">Explora nuestros conjuntos coordinados, desde sets estampados hasta enteritos suaves. Elige el look ideal para destacar en la ciudad.</p>
                </div>
                <div id="product-grid-conjuntos" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Skeletons y productos se cargar√°n aqu√≠ din√°micamente -->
                </div>
            </section>
            
            <!-- Tops y Poleras -->
            <section id="tops" class="animate-on-scroll bg-gray-100 rounded-xl p-8 md:p-12 border-t-4 border-pink-200">
                 <div class="text-center mb-12">
                    <h2 class="font-heading text-3xl md:text-4xl font-bold">Tops y Poleras</h2>
                    <p class="mt-3 max-w-2xl mx-auto text-gray-600">Crop tops, poleras estampadas y blusas de manga corta en todos los colores. Versatilidad y comodidad para tu d√≠a a d√≠a.</p>
                </div>
                 <div id="product-grid-tops" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Skeletons y productos se cargar√°n aqu√≠ din√°micamente -->
                 </div>
            </section>
            
            <!-- Shorts y Biker -->
            <section id="shorts" class="animate-on-scroll">
                 <div class="text-center mb-12">
                    <h2 class="font-heading text-3xl md:text-4xl font-bold">Shorts y Bikers</h2>
                    <p class="mt-3 max-w-2xl mx-auto text-gray-600">La combinaci√≥n perfecta de comodidad y estilo. Encuentra shorts de tela, bikers y m√°s para tus looks veraniegos.</p>
                </div>
                 <div id="product-grid-shorts" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Skeletons y productos se cargar√°n aqu√≠ din√°micamente -->
                 </div>
            </section>
            
            <!-- Vestidos y Enteritos -->
            <section id="vestidos" class="animate-on-scroll bg-gray-100 rounded-xl p-8 md:p-12 border-t-4 border-pink-200">
                 <div class="text-center mb-12">
                    <h2 class="font-heading text-3xl md:text-4xl font-bold">Vestidos y Enteritos</h2>
                    <p class="mt-3 max-w-2xl mx-auto text-gray-600">Desde vestidos cortos casuales hasta enteritos elegantes. La pieza √∫nica perfecta para cualquier ocasi√≥n este verano.</p>
                </div>
                 <div id="product-grid-vestidos" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Skeletons y productos se cargar√°n aqu√≠ din√°micamente -->
                 </div>
            </section>

        </div>
    </main>

    <!-- Footer Reorganizado -->
    <footer id="contacto" class="bg-gray-900 text-gray-300 pt-16 pb-8 px-6 md:px-12">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 text-center md:text-left">
            <div> <h4 class="font-heading text-3xl font-bold text-pink-400 mb-4">De Todo Un Poquito 17</h4> <p class="text-gray-400 mb-4">Estilo urbano para la mujer de Santiago.</p> <div class="flex justify-center md:justify-start space-x-4"> <a href="#" class="text-gray-400 social-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a> <a href="#" class="text-gray-400 social-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a> </div> </div>
            <div> <h5 class="font-heading font-bold text-lg mb-3 uppercase tracking-wider text-white">Ayuda</h5> <ul class="space-y-2"> <li><a href="#" class="text-gray-400 hover:text-pink-400">Contacto</a></li> <li><a href="#" class="text-gray-400 hover:text-pink-400">Preguntas Frecuentes</a></li> <li><a href="#" class="text-gray-400 hover:text-pink-400">Gu√≠a de Tallas</a></li> </ul> </div>
            <div> <h5 class="font-heading font-bold text-lg mb-3 uppercase tracking-wider text-white">Legal</h5> <ul class="space-y-2"> <li><a href="#" class="text-gray-400 hover:text-pink-400">Pol√≠ticas de Devoluci√≥n</a></li> <li><a href="#" class="text-gray-400 hover:text-pink-400">T√©rminos y Condiciones</a></li> <li><a href="#" class="text-gray-400 hover:text-pink-400">Pol√≠tica de Privacidad</a></li> </ul> </div>
            <div> <h5 class="font-heading font-bold text-lg mb-3 uppercase tracking-wider text-white">Newsletter</h5> <p class="text-gray-400 mb-4">Recibe ofertas y novedades en tu correo.</p> 
                <form id="newsletter-form" class="flex flex-col sm:flex-row gap-2"> 
                    <input type="email" placeholder="tu.email@ejemplo.com" class="w-full px-4 py-2 rounded-md bg-gray-800 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-pink-500" required> 
                    <button type="submit" class="bg-pink-500 text-white font-bold py-2 px-4 rounded-md hover:bg-pink-600 transition-colors">Suscribir</button> 
                </form> 
            </div>
        </div>
        <div class="mt-12 border-t border-gray-700 pt-6 text-center text-gray-500 text-sm">
            <p>&copy; 2025 De Todo Un Poquito 17. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Quick View Modal -->
    <div id="quick-view-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4">
        <div id="quick-view-content" class="bg-white rounded-lg max-w-4xl w-full mx-auto flex flex-col md:flex-row overflow-hidden relative">
            <button id="close-modal-btn" class="absolute top-4 right-4 text-gray-500 hover:text-gray-900">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
            <div class="w-full md:w-1/2">
                <img id="modal-img" src="https://placehold.co/600x800" alt="Producto" class="w-full h-full object-cover">
            </div>
            <div class="w-full md:w-1/2 p-8 flex flex-col justify-center">
                 <h2 id="modal-title" class="font-heading text-3xl font-bold mb-2">Nombre del Producto</h2>
                 <p id="modal-price" class="text-2xl font-heading font-bold text-gray-800 mb-4">$0</p>
                 <p id="modal-sizes" class="text-sm text-gray-500 mb-4">Tallas: S, M, L</p>
                 <p class="text-gray-600 mb-6">Descripci√≥n breve y atractiva del producto. Destaca sus materiales, corte y c√≥mo combina para crear un look incre√≠ble.</p>
                 <button class="cta-button">Comprar ahora</button>
            </div>
        </div>
    </div>

    <!-- TAREA 5: Contenedor para las notificaciones Toast con estilos de Tailwind aplicados directamente -->
    <div id="toast-container" class="fixed bottom-5 right-5 z-[100] space-y-2 md:top-auto md:bottom-5 md:right-5 md:left-auto md:w-auto top-20 left-1/2 -translate-x-1/2 md:translate-x-0 w-11/12 max-w-sm"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- L√≥gica Men√∫ M√≥vil MEJORADA ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const openIcon = document.getElementById('menu-open-icon');
            const closeIcon = document.getElementById('menu-close-icon');
            const body = document.body;
            
            function toggleMenu() {
                const isOpen = mobileMenu.classList.contains('active');
                
                if (isOpen) {
                    // Cerrar men√∫
                    mobileMenu.classList.remove('active');
                    body.classList.remove('menu-open');
                    openIcon.classList.remove('hidden');
                    closeIcon.classList.add('hidden');
                } else {
                    // Abrir men√∫
                    mobileMenu.classList.add('active');
                    body.classList.add('menu-open');
                    openIcon.classList.add('hidden');
                    closeIcon.classList.remove('hidden');
                }
            }
            
            mobileMenuButton.addEventListener('click', toggleMenu);
            
            // Cerrar men√∫ al hacer click en un enlace
            const mobileLinks = mobileMenu.querySelectorAll('a');
            mobileLinks.forEach(link => {
                link.addEventListener('click', () => {
                    toggleMenu();
                });
            });
            
            // Cerrar men√∫ con ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && mobileMenu.classList.contains('active')) {
                    toggleMenu();
                }
            });

            // --- L√≥gica Header Sticky (sin cambios) ---
            const header = document.getElementById('main-header');
            window.addEventListener('scroll', () => {
                header.classList.toggle('scrolled', window.scrollY > 50);
            });
            
            // --- TAREA 5: FUNCI√ìN PARA MOSTRAR TOAST NOTIFICATIONS (CORREGIDA) ---
            function showToast(message) {
                const container = document.getElementById('toast-container');
                const toast = document.createElement('div');
                
                // Aplicar clases de Tailwind directamente para el estado inicial (oculto)
                toast.className = 'bg-gray-800 bg-opacity-90 text-white text-sm text-center font-semibold py-2 px-4 rounded-md shadow-lg transition-all duration-300 ease-out opacity-0 transform translate-y-4';
                toast.textContent = message;
                
                container.appendChild(toast);

                // Forzar un reflow para que el navegador registre el estado inicial antes de animar
                void toast.offsetWidth;

                // Aplicar clases para el estado visible, iniciando la transici√≥n
                requestAnimationFrame(() => {
                    toast.classList.remove('opacity-0', 'translate-y-4');
                    toast.classList.add('opacity-100', 'translate-y-0');
                });

                // Ocultar y eliminar el toast despu√©s de 3 segundos
                setTimeout(() => {
                    toast.classList.remove('opacity-100', 'translate-y-0');
                    toast.classList.add('opacity-0', 'translate-y-4');
                    toast.addEventListener('transitionend', () => {
                        if (toast.parentNode) {
                            toast.parentNode.removeChild(toast);
                        }
                    }, { once: true });
                }, 3000);
            }

            // --- L√≥gica Carrito ---
            const cartCounter = document.getElementById('cart-counter');
            let itemsInCart = 0;
            
            function addToCart() {
                itemsInCart++;
                cartCounter.textContent = itemsInCart;
                cartCounter.classList.add('animate-bounce-in');
                setTimeout(() => cartCounter.classList.remove('animate-bounce-in'), 400);
                
                // Tarea 5: Mostrar toast
                showToast('‚úÖ Producto agregado al carrito');
            }
            
            // --- L√ìGICA DE CARGA DE PRODUCTOS CON SKELETON Y ANIMACIONES ---
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-fade-in-up');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.animate-on-scroll').forEach(el => observer.observe(el));

            const productData = {
                conjuntos: [
                    { name: 'Set Urbano Rosa', sizes: 'S, M, L', price: '$24.990', img: 'FBCFE8/831843?text=Set+Urbano', altText: 'Set Urbano Rosa ‚Äì conjunto femenino para ciudad en tendencia primavera/verano' },
                    { name: 'Conjunto Casual Menta', sizes: 'S, M, L', price: '$22.990', img: 'D1FAE5/065F46?text=Set+Casual', altText: 'Conjunto Casual Menta ‚Äì set de dos piezas color menta, fresco y casual' },
                    { name: 'Enterito Noche Azul', sizes: 'M, L', price: '$29.990', img: 'C7D2FE/3730A3?text=Enterito+Liviano', altText: 'Enterito Noche Azul ‚Äì enterito azul ligero y elegante para salidas de verano' },
                    { name: 'Set Deportivo Gris', sizes: 'S, M', price: '$24.990', originalPrice: '$28.990', img: 'F3F4F6/1F2937?text=Set+Deportivo', altText: 'Set Deportivo Gris ‚Äì conjunto deportivo de dos piezas en color gris' }
                ],
                tops: [
                    { name: 'Crop Top Amarillo', sizes: 'Talla √önica', price: '$12.990', img: 'FEF9C3/854D0E?text=Crop+Top', altText: 'Crop Top Amarillo ‚Äì top corto y vibrante en color amarillo para un look de verano' },
                    { name: 'Polera Gr√°fica "Galaxy"', sizes: 'S, M, L', price: '$15.990', img: 'E0E7FF/3730A3?text=Polera+Gr√°fica', altText: 'Polera Gr√°fica Galaxy ‚Äì polera de manga corta con estampado de galaxia' },
                    { name: 'Top B√°sico Rojo', sizes: 'Talla √önica', price: '$7.990', originalPrice: '$9.990', img: 'FEE2E2/991B1B?text=Top+Tirantes', altText: 'Top B√°sico Rojo ‚Äì top de tirantes color rojo, una prenda vers√°til y esencial' },
                    { name: 'Blusa Verde Lima', sizes: 'S, M', price: '$18.990', img: 'ECFCCB/4D7C0F?text=Blusa+Manga+Corta', altText: 'Blusa Verde Lima ‚Äì blusa de manga corta en un color verde lima de temporada' }
                ],
                 shorts: [
                    { name: 'Short Denim Cl√°sico', sizes: '36, 38, 40, 42', price: '$19.990', img: 'BFDBFE/1E40AF?text=Short+Denim', altText: 'Short Denim Cl√°sico ‚Äì short de mezclilla azul con dise√±o cl√°sico atemporal' },
                    { name: 'Biker Negra B√°sica', sizes: 'S, M, L', price: '$14.990', img: '1F2937/F9FAFB?text=Biker+Negra', altText: 'Biker Negra B√°sica ‚Äì calza biker de color negro, esencial para comodidad y estilo' },
                    { name: 'Short de Tela Lila', sizes: 'S, M', price: '$14.990', originalPrice: '$16.990', img: 'F5D0FE/86198F?text=Short+Tela', altText: 'Short de Tela Lila ‚Äì short de tela fresco y a la moda en color lila' },
                    { name: 'Short Runner Menta', sizes: 'S, M, L', price: '$17.990', img: 'A7F3D0/047857?text=Short+Deportivo', altText: 'Short Runner Menta ‚Äì short deportivo color menta para actividades al aire libre' }
                ],
                vestidos: [
                    { name: 'Vestido Verano Naranja', sizes: 'S, M, L', price: '$25.990', img: 'FDEDD8/C2410C?text=Vestido+Corto', altText: 'Vestido Verano Naranja ‚Äì vestido corto de verano en color naranja vibrante' },
                    { name: 'Vestido Maxi Celeste', sizes: 'Talla √önica', price: '$29.990', img: 'CFFAFE/0E7490?text=Vestido+Largo', altText: 'Vestido Maxi Celeste ‚Äì vestido largo y fluido color celeste para ocasiones especiales' },
                    { name: 'Enterito Negro Formal', sizes: 'S, M', price: '$29.990', originalPrice: '$34.990', img: '1F2937/F3F4F6?text=Enterito+Elegante', altText: 'Enterito Negro Formal ‚Äì enterito elegante y sofisticado color negro para eventos' },
                    { name: 'Vestido Floral Corto', sizes: 'S, M, L', price: '$27.990', img: 'FFF7ED/FB923C?text=Vestido+Estampado', altText: 'Vestido Floral Corto ‚Äì vestido corto con estampado floral, ideal para el d√≠a a d√≠a' }
                ],
            };

            function createProductCardHTML(product) {
                const priceDisplay = product.originalPrice
                    ? `
                        <p class="text-lg text-gray-400 line-through">${product.originalPrice}</p>
                        <p class="text-xl font-heading font-bold text-pink-500">${product.price}</p>
                    `
                    : `
                        <p class="text-xl font-heading font-bold text-gray-800">${product.price}</p>
                    `;

                return `
                <div class="bg-white rounded-lg overflow-hidden card-shadow group transition-transform duration-300 ease-out hover:scale-103 animate-on-scroll">
                    <div class="relative">
                        <img src="https://placehold.co/400x533/${product.img}" alt="${product.altText}" class="w-full h-auto object-cover aspect-[3/4]">
                        <button class="wishlist-btn absolute top-3 right-3 bg-white/70 rounded-full p-2 transition-colors duration-300 hover:bg-white z-10">
                            <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 016.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="p-5 text-center">
                        <h3 class="font-heading font-semibold text-lg mb-3">${product.name}</h3>
                        <p class="text-sm text-gray-500 my-2">Tallas: ${product.sizes}</p>
                        <div class="my-3">${priceDisplay}</div>
                        <button class="cta-button add-to-cart-btn">Agregar al carrito</button>
                    </div>
                </div>`;
            }

            function createSkeletonCardHTML() {
                return `
                <div class="skeleton-card">
                    <div class="skeleton-img"></div>
                    <div class="p-5 space-y-3">
                        <div class="skeleton-text w-3/4 mx-auto"></div>
                        <div class="skeleton-text w-1/2 mx-auto"></div>
                        <div class="skeleton-text w-1/3 mx-auto"></div>
                        <div class="mt-4 h-11 bg-gray-300 rounded-full animate-skeleton"></div>
                    </div>
                </div>`;
            }

            function loadProducts(category, gridId) {
                const grid = document.getElementById(gridId);
                if (!grid) return;

                grid.innerHTML = Array(4).fill(createSkeletonCardHTML()).join(''); 

                setTimeout(() => {
                    grid.innerHTML = productData[category].map(createProductCardHTML).join('');
                    
                    grid.querySelectorAll('.animate-on-scroll').forEach(el => observer.observe(el));
                    
                    grid.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            e.stopPropagation();
                            addToCart();
                        });
                    });
                    grid.querySelectorAll('.card-shadow').forEach(card => {
                        card.addEventListener('click', openQuickViewModal);
                    });
                    grid.querySelectorAll('.wishlist-btn').forEach(btn => {
                        btn.addEventListener('click', handleWishlistClick);
                    });
                }, 1500);
            }
            
            loadProducts('conjuntos', 'product-grid-conjuntos');
            loadProducts('tops', 'product-grid-tops');
            loadProducts('shorts', 'product-grid-shorts');
            loadProducts('vestidos', 'product-grid-vestidos');

            function handleWishlistClick(e) {
                e.stopPropagation();
                e.preventDefault();
                const button = e.currentTarget;
                const isFavorite = button.classList.toggle('is-favorite');

                if (isFavorite) {
                    button.classList.add('animate-heart-beat');
                    button.addEventListener('animationend', () => button.classList.remove('animate-heart-beat'), { once: true });
                    // Tarea 5: Mostrar toast
                    showToast('‚ù§Ô∏è A√±adido a favoritos');
                } else {
                    // Tarea 5: Mostrar toast (opcional, pero buena UX)
                    showToast('üíî Eliminado de favoritos');
                }
            }

            // --- L√≥gica Quick View Modal MEJORADA ---
            const quickViewModal = document.getElementById('quick-view-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const modalImg = document.getElementById('modal-img'), modalTitle = document.getElementById('modal-title'), modalPrice = document.getElementById('modal-price'), modalSizes = document.getElementById('modal-sizes');

            function openQuickViewModal(event) {
                // Evitar abrir modal si se clicke√≥ el bot√≥n de wishlist o carrito
                if (event.target.closest('.wishlist-btn') || event.target.closest('.add-to-cart-btn')) {
                    return;
                }
                
                const card = event.currentTarget;
                modalImg.src = card.querySelector('img').src.replace('400x533', '600x800');
                modalTitle.textContent = card.querySelector('h3').textContent;
                modalPrice.textContent = card.querySelector('.text-xl').textContent;
                modalSizes.textContent = card.querySelector('.text-sm').textContent;
                
                quickViewModal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
                document.body.style.position = 'fixed';
                document.body.style.width = '100%';
            }
            
            function closeModal() {
                quickViewModal.classList.add('hidden');
                document.body.style.overflow = '';
                document.body.style.position = '';
                document.body.style.width = '';
            }
            
            closeModalBtn.addEventListener('click', closeModal);
            
            quickViewModal.addEventListener('click', (e) => {
                if (e.target === quickViewModal) closeModal();
            });
            
            // Cerrar modal con ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !quickViewModal.classList.contains('hidden')) {
                    closeModal();
                }
            });

            // --- TAREA 5: L√ìGICA PARA EL FORMULARIO DE NEWSLETTER ---
            const newsletterForm = document.getElementById('newsletter-form');
            newsletterForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const emailInput = this.querySelector('input[type="email"]');
                if (emailInput.value) {
                    showToast('üéâ ¬°Suscripci√≥n exitosa!');
                    emailInput.value = '';
                }
            });
        });
    </script>
</body>
</html>
